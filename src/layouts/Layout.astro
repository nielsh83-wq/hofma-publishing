---
import '../styles/global.css';

interface Props {
	title?: string;
	description?: string;
}

const { title = 'Hofma Publishing', description = 'Independent publishing house bringing quality books to readers worldwide.' } = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
		<!-- Google Tag Manager -->
		<script is:inline>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
		new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
		j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
		'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
		})(window,document,'script','dataLayer','GTM-NJSGDSS3');</script>
		<!-- End Google Tag Manager -->
		<!-- Google Analytics 4 -->
		<script is:inline async src="https://www.googletagmanager.com/gtag/js?id=G-YGL1NHVR3Q"></script>
		<script is:inline>
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());
			gtag('config', 'G-YGL1NHVR3Q');
		</script>
		<!-- End Google Analytics 4 -->
		<!-- Meta Pixel Code -->
		<script is:inline>
			!function(f,b,e,v,n,t,s)
			{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
			n.callMethod.apply(n,arguments):n.queue.push(arguments)};
			if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
			n.queue=[];t=b.createElement(e);t.async=!0;
			t.src=v;s=b.getElementsByTagName(e)[0];
			s.parentNode.insertBefore(t,s)}(window, document,'script',
			'https://connect.facebook.net/en_US/fbevents.js');
			fbq('init', '914277844389882');
			fbq('track', 'PageView');
		</script>
		<!-- End Meta Pixel Code -->
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<link rel="icon" href="/favicon.ico" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="description" content={description} />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400&family=Source+Sans+3:wght@400;500;600;700&display=swap" rel="stylesheet" />
	</head>
	<body>
		<!-- Google Tag Manager (noscript) -->
		<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJSGDSS3"
		height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
		<!-- End Google Tag Manager (noscript) -->
		<!-- Meta Pixel (noscript) -->
		<noscript><img height="1" width="1" style="display:none"
			src="https://www.facebook.com/tr?id=914277844389882&ev=PageView&noscript=1"
			alt="" /></noscript>
		<!-- End Meta Pixel (noscript) -->
		<header class="site-header">
			<div class="header-inner">
				<a href="/" class="logo">Hofma Publishing</a>
				<nav class="nav">
					<a href="/">Home</a>
					<a href="/blog/">Blog</a>
					<a href="/about/">About</a>
				</nav>
				<button class="nav-toggle" aria-label="Toggle menu">
					<span></span>
					<span></span>
					<span></span>
				</button>
			</div>
		</header>

		<main>
			<slot />
		</main>

		<footer class="site-footer">
			<div class="footer-inner">
				<p>&copy; {new Date().getFullYear()} Hofma Publishing. All rights reserved.</p>
				<nav class="footer-nav">
					<a href="/">Home</a>
					<a href="/blog/">Blog</a>
					<a href="/about/">About</a>
				</nav>
			</div>
		</footer>

		<style is:global>
			:root {
				--color-bg: #faf9f7;
				--color-text: #1a1a1a;
				--color-text-muted: #5c5c5c;
				--color-accent: #2c5282;
				--color-accent-hover: #1a365d;
				--color-border: #e5e3df;
				--font-heading: 'Cormorant Garamond', Georgia, serif;
				--font-body: 'Source Sans 3', -apple-system, BlinkMacSystemFont, sans-serif;
				--max-width: 1200px;
				--space-xs: 0.5rem;
				--space-sm: 1rem;
				--space-md: 1.5rem;
				--space-lg: 2rem;
				--space-xl: 3rem;
				--space-2xl: 4rem;
			}

			*,
			*::before,
			*::after {
				box-sizing: border-box;
			}

			html {
				scroll-behavior: smooth;
			}

			body {
				margin: 0;
				font-family: var(--font-body);
				font-size: 1.0625rem;
				line-height: 1.6;
				color: var(--color-text);
				background: var(--color-bg);
			}

			h1, h2, h3, h4 {
				font-family: var(--font-heading);
				font-weight: 600;
				line-height: 1.2;
			}

			h1 { font-size: clamp(2.25rem, 5vw, 3.5rem); }
			h2 { font-size: clamp(1.75rem, 4vw, 2.5rem); }
			h3 { font-size: clamp(1.25rem, 2vw, 1.5rem); }

			a {
				color: var(--color-accent);
				text-decoration: none;
				transition: color 0.2s ease;
			}

			a:hover {
				color: var(--color-accent-hover);
			}

			img {
				max-width: 100%;
				height: auto;
				display: block;
			}

			/* Header */
			.site-header {
				position: sticky;
				top: 0;
				z-index: 100;
				background: rgba(250, 249, 247, 0.95);
				backdrop-filter: blur(8px);
				border-bottom: 1px solid var(--color-border);
			}

			.header-inner {
				max-width: var(--max-width);
				margin: 0 auto;
				padding: var(--space-md) var(--space-lg);
				display: flex;
				align-items: center;
				justify-content: space-between;
			}

			.logo {
				font-family: var(--font-heading);
				font-size: 1.5rem;
				font-weight: 700;
				color: var(--color-text);
			}

			.logo:hover {
				color: var(--color-accent);
			}

			.nav {
				display: flex;
				gap: var(--space-lg);
			}

			.nav a {
				font-weight: 500;
				color: var(--color-text);
			}

			.nav a:hover {
				color: var(--color-accent);
			}

			.nav-toggle {
				display: none;
				flex-direction: column;
				gap: 5px;
				background: none;
				border: none;
				cursor: pointer;
				padding: 5px;
			}

			.nav-toggle span {
				display: block;
				width: 24px;
				height: 2px;
				background: var(--color-text);
			}

			@media (max-width: 768px) {
				.nav {
					display: none;
					position: absolute;
					top: 100%;
					left: 0;
					right: 0;
					flex-direction: column;
					background: var(--color-bg);
					padding: var(--space-lg);
					border-bottom: 1px solid var(--color-border);
				}

				.nav.is-open {
					display: flex;
				}

				.nav-toggle {
					display: flex;
				}
			}

			/* Main content */
			main {
				min-height: calc(100vh - 200px);
			}

			/* Footer */
			.site-footer {
				margin-top: var(--space-2xl);
				padding: var(--space-xl) var(--space-lg);
				background: var(--color-text);
				color: var(--color-bg);
			}

			.footer-inner {
				max-width: var(--max-width);
				margin: 0 auto;
				display: flex;
				flex-wrap: wrap;
				justify-content: space-between;
				align-items: center;
				gap: var(--space-md);
			}

			.footer-nav {
				display: flex;
				gap: var(--space-lg);
			}

			.footer-nav a {
				color: var(--color-bg);
			}

			.footer-nav a:hover {
				opacity: 0.8;
			}

			/* Buttons */
			.btn {
				display: inline-block;
				padding: 0.75rem 1.5rem;
				font-family: var(--font-body);
				font-size: 0.9375rem;
				font-weight: 600;
				text-align: center;
				border: none;
				border-radius: 4px;
				cursor: pointer;
				transition: background 0.2s ease, transform 0.1s ease;
			}

			.btn-primary {
				background: var(--color-accent);
				color: white;
			}

			.btn-primary:hover {
				background: var(--color-accent-hover);
			}
		</style>

		<script>
			document.querySelector('.nav-toggle')?.addEventListener('click', () => {
				document.querySelector('.nav')?.classList.toggle('is-open');
			});
		</script>
	</body>
</html>
